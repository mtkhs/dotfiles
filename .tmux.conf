#---------------------------------------------------------------------------
# .tmux.conf
#---------------------------------------------------------------------------

#---------------------------------------------------------------------------
#
# Note:
#
# set is the alias of set-option.
# set -g is used to set global options and -ga appends values to existing settings.
#
# Aliases:
#
# command           | alias
# ------------------+---------
# bind-key          | bind
# unbind-key        | unbind
# set-option        | set
# set-window-option | setw 
#

#---------------------------------------------------------------------------
# plugins:
#
set-option -g @plugin 'tmux-plugins/tpm'

set-option -g @plugin 'tmux-plugins/tmux-pain-control'

set-option -g @plugin 'tmux-plugins/tmux-prefix-highlight'
    set-option -g @prefix_highlight_fg 'white'
    set-option -g @prefix_highlight_bg 'blue'
    set-option -g @prefix_highlight_show_copy_mode 'on'
    set-option -g @prefix_highlight_copy_mode_attr 'fg=black,bg=yellow,bold'
    set-option -g @prefix_highlight_prefix_prompt 'Wait'
    set-option -g @prefix_highlight_copy_prompt 'Copy'
    set-option -g @prefix_highlight_output_prefix '<'
    set-option -g @prefix_highlight_output_suffix '>'

set-option -g @plugin 'tmux-plugins/tmux-cpu'
    set-option -g @cpu_low_icon "#[fg=green,bold]﬙#[default]"
    set-option -g @cpu_medium_icon "#[fg=yellow,bold]﬙#[default]"
    set-option -g @cpu_high_icon "#[fg=red,bold]﬙#[default]"

set-option -g @plugin 'tmux-plugins/tmux-resurrect'

#set-option -g @plugin 'tmux-plugins/tmux-continuum'
#    set-option -g @continuum-restore 'on'
#    set-option -g @continuum-save-interval '1'
#    set-option -g @continuum-boot 'off'


#---------------------------------------------------------------------------
# options
#

#set-option -g prefix C-q
#unbind default prefix
#unbind C-b

set-window-option -g mode-keys vi
set-window-option -g aggressive-resize on
set-window-option -g monitor-activity on
set-option -g visual-activity on
set-option -g base-index 1
#set-option -sg escape-time 1
set-option -s escape-time 0
set-option -g history-limit 50000
set-option -g display-time 4000
set-option -g display-panes-time 10000


#---------------------------------------------------------------------------
# status
#
set-option -g status on
set-option -g status-interval 5
set-option -g status-left-length 128
set-option -g status-right-length 64

# status-line
set-option -g status-bg black
set-option -g status-fg white
set-option -g status-attr dim
set-option -g status-left '#[fg=green,bold][#(whoami)@#H][#S]#[default]'
set-option -g status-right '#{prefix_highlight} #{cpu_icon}#{cpu_percentage} #[fg=green,bold][%Y/%m/%d(%a)%H:%M]#[default]'
#set-option -g message-attr bold
#set-option -g message-fg white
#set-option -g message-bg red

set-option -g status-justify centre
set-option -g status-position top

#---------------------------------------------------------------------------
# color:
#
set-option -g default-terminal "screen-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc"

#set-window-option -g mode-bg white
#set-window-option -g mode-fg black
#set-window-option -g window-status-bg black
#set-window-option -g window-status-fg white
#set-window-option -g window-status-current-bg green
#set-window-option -g window-status-current-fg black
#set-window-option -g window-status-current-attr bold

#---------------------------------------------------------------------------
# key-bind:
#

# configuration reload
bind-key r source-file ~/.tmux.conf \; display "Configuration reloaded!"

# pane resize
#bind-key -r C-h resize-pane -L 5
#bind-key -r C-l resize-pane -R 5
#bind-key -r C-j resize-pane -D 5
#bind-key -r C-k resize-pane -U 5
#bind-key -r s swap-pane -U

#
# tpm:
#
# Install: prefix + I
# Update: prefix + U
# Uninstall: prefix + Alt + u
#

run-shell '~/.tmux/plugins/tpm/tpm'

#
# ressurect:
#

run-shell '~/.tmux/plugins/tmux-resurrect/resurrect.tmux'

